// Dependencies
// --------------------------------------------------
@import (reference) "mixins.less";
@import (reference) "brandkit/less/iidx-variables.less";
@import (reference) "bootstrap/less/mixins/opacity.less";

// Styles
// --------------------------------------------------

/* ============================================================
 * bootstrapSwitch v1.8 by Larentis Mattia @SpiritualGuru
 * http://www.larentis.eu/
 *
 * Enhanced for radiobuttons by Stein, Peter @BdMdesigN
 * http://www.bdmdesign.org/
 *
 * Project site:
 * http://www.larentis.eu/switch/
 * ============================================================
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 * ============================================================ */

label.checkbox .has-switch {
  margin-right: 6px;
  margin-top: -2px;
}

.module .module-body label.checkbox .has-switch {
	margin-bottom: 2px; }

.has-switch {
  margin-bottom: 8px; /* conform to iids/bootstrap's margin-bottom for form elements, 10px - 2px border, see background-clip comment below */
  display: inline-block;
  cursor: pointer;
  font-family: @sansFontFamily;
  position: relative;
  text-align: left;
  overflow: hidden;
  .user-select(none);
  vertical-align: middle;
  min-width: 39px;
  height: 26px;
  white-space: nowrap;
  .border-radius(14px);
  border: 1px solid transparent;/* workaround for Safari's refusal to honor border-radius without actually setting a border */
  .background-clip(padding-box);

  &.disabled span, label {
    cursor: default;
  }

  span, label {
    cursor: pointer;
    position: relative;
    display: inline-block;
  }

  label {
    width: 24px;
    height: 24px;
    margin-bottom: 2px;
    .border-radius(13px);
    border: 1px solid @grayLighter;
    background-color: @offWhite;
    text-align: center;
    z-index: 100;

    i {
      color: #000;
      text-shadow: 0 1px 0 #fff;
      line-height: 18px;
      pointer-events: none;
    }
  }

  > div {
    display: inline-block;
    width: 150%;
    position: relative;
    top: 0;

    &.switch-animate {
      .transition(left 0.5s);
      .transition(background-color 0.5s);
    }
    &.switch-off {
      left: -50%;
      color: #231f20;
      background-color: @grayLighter;
      label {
        left: -0.5px;
      }
    }
    &.switch-on {
      left: 0%;
      background-color: #3b73b8;
      color: @white;
      label {
        left: -7px;
        border-color: #3b73b8;
      }
    }
  }
  input[type=radio],
  input[type=checkbox] {
    //debug
    display: none;
    //position: absolute;
    //margin-left: 60%;
    //z-index: 123;
  }

  span {
    z-index: 1;
    width: 35%;
    text-align: center;
  }

  .switch-left {
    left: 1px;
  }

  .switch-right {
    left: -3px;
  }

  &.deactivate {
    .opacity(.5);
    cursor: default !important;
    label, span {
      cursor: default !important;
    }
  }

  &.switch-large {
    .border-radius(18px);
    min-width: 51px;
    height: 34px;
    label {
      width: 32px;
      height: 32px;
      .border-radius(17px);
    }
    > div.switch-on label {
      left: -9.5px;
    }
  }

  &.switch-small {
    .border-radius(13px);
    min-width: 36px;
    height: 24px;
    label {
      width: 22px;
      height: 22px;
      .border-radius(12px);
    }
    > div.switch-on label {
      left: -7px;
    }
  }

  &.switch-mini {
    .border-radius(11px);
    min-width: 30px;
    height: 20px;
    label {
      width: 18px;
      height: 18px;
      .border-radius(10px);
    }
    > div.switch-on label {
      left: -5.5px;
    }
  }
}

//Special states
.warning .has-switch .switch-on {
  background-color: @orange;
  label {
    border-color: @orange;
  }
}

.error .has-switch .switch-on {
  background-color: @red;
  label {
    border-color: @red;
  }
}

.success .has-switch .switch-on {
  background-color: @green;
  label {
    border-color: @green;
  }
}

.disabled .has-switch .switch-on, .has-switch.disabled .switch-on {
  background-color: #dcdbdb;
  label {
    border-color: #dcdbdb;
  }
}

.disabled .has-switch .switch-off, .has-switch.disabled .switch-off {
  background-color: @grayLighter;
  label {
    border-color: @grayLighter;
  }
}
